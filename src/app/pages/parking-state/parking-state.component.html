<a [routerLink]="['/login']">Log out</a>

<main class="flex-column-center">
    <table>
      <thead>
        <td>{{ tableHeader.c1 }}</td>
        <td>{{ tableHeader.c2 }}</td>
        <td>{{ tableHeader.c3 }}</td>
        <td>{{ tableHeader.c4 }}</td>
      </thead>
      <tbody>
        @for (parking of parkinsDataService.parkings; track $index) {
        <tr>
          <td>{{ parking.number }}</td>
          <td>
            <span [ngClass]="{available: parking.available, occupied: !parking.available}">
              {{ parking.available ? "Available" : "Occupied" }}
            </span>
          </td>
          
          <td>{{ parking.entry }}</td>
          <td class="actions-container">
            <div>
              @if (parking.available) {
              <button (click)="disableParking($index)">Occupy</button>
              } @else {
              <button (click)="enableParking($index)">Vacate</button>
              } 

              @if (isAdmin)
              {
                <button class="btn-deleteThat" (click)="deleteParkingAlert($index)">
                  <i class="fi fi-rr-trash"></i>
                </button>
              }
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
    @if(isAdmin){
      <button (click)="addParking()" class="btn-admin" id="agregar-cochera">
        +
      </button>
      @if (parkinsDataService.parkings.length != 0) {
        <button class="btn-admin" (click)="deleteAllAlert()">all</button>
      }
      }
</main>
