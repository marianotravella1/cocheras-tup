<main>
  <div class="table-container">
    <table>
      <thead>
        <td>{{ tableHeader.c1 }}</td>
        <td>{{ tableHeader.c2 }}</td>
        <td>{{ tableHeader.c3 }}</td>
        <td>{{ tableHeader.c4 }}</td>
      </thead>
      <tbody>
        @for (parking of parkinsDataService.parkings; track $index) {
        <tr>
          <td>{{ parking.number }}</td>
          <td>
            <span
              [ngClass]="{
                available: parking.available,
                occupied: !parking.available
              }">
              {{ parking.available ? "Available" : "Occupied" }}
            </span>
          </td>

          <td>{{ parking.entry }}</td>
          <td>
            <div class="actions-container">
              @if (parking.available) {
              <button  title="Occupy" (click)="disableParking($index)">
                <img class="occupy-img" src="./../../../assets/images/arrow-alt-square-left.svg" alt="Occupy"/>
              </button>
              } @else {
              <button title="Vacate" (click)="enableParking($index)">
                <img class="vacate-img" src="./../../../assets/images/arrow-alt-square-right.svg" alt="Vacate"/>
              </button>
              } @if (isAdmin) {
              <button title="Delete parking" (click)="deleteParkingAlert($index)">
                <img class="delete-img" src="./../../../assets/images/trash.svg" alt="Delete">
              </button>
              }
            </div>
          </td>
        </tr>
        }
      </tbody>
    </table>
    @if(isAdmin){
      <div class="btn-admin-container">
        <button (click)="addParking()" class="btn-add" id="agregar-cochera">
          <img src="./../../../assets/images/add.svg" alt="+">
        </button>
        @if (parkinsDataService.parkings.length != 0) {
        <button class="delete-all" (click)="deleteAllAlert()">
          Delete All
        </button>
        } 
      </div>
     }
  </div>
</main>
